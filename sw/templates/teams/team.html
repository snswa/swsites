{% extends "teams/base.html" %}

{% load group_tags %}
{% load pagination_tags %}

{% block head_title %}{{ group.name }}{% endblock %}

{% block body %}
    {% if group.is_private and not is_team_member %}
        <p>This team is private.</p>
    {% else %}
        {% if team_wiki_index_page %}
            {% with team_wiki_index_page.current as rev %}
                {% include "wakawaka/page_content.html" %}
            {% endwith %}
        {% endif %}

        <h1>Recent Activity</h1>

        {% autopaginate team_actions %}

        <ul class="stream">
            {% for action in team_actions %}
                <li class="event">
                    {% include "activity/action.html" %}
                </li>
            {% endfor %}
        </ul>

        {% paginate %}
    {% endif %}
{% endblock %}

{% block sidebar_sections %}
    {% if is_team_member or not group.is_private  %}

        {% include "sidebars/teamjoinleave.html" %}

        {% include "sidebars/wikicommon.html" %}

        <div class="section">
            <h1>Members</h1>

            {% with group.members.all as members %}
                <ul>
                    {% for user in members %}
                        <li><a href="{{ user.get_absolute_url }}">{{ user.username }}</a></li>
                    {% endfor %}
                </ul>
            {% endwith %}
        </div>

    {% endif %}
{% endblock %}
